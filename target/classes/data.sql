-- ==========================
-- Таблица ингредиентов
-- ==========================
CREATE TABLE IF NOT EXISTS ingredients (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) UNIQUE NOT NULL,
    rarity VARCHAR(20) NOT NULL,
    allergy BOOLEAN NOT NULL,
    is_unlocked BOOLEAN NOT NULL
);

-- ==========================
-- Таблица рецептов
-- ==========================
CREATE TABLE IF NOT EXISTS recipes (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) UNIQUE NOT NULL,
    difficulty VARCHAR(20) NOT NULL,
    description TEXT NOT NULL
);

-- ==========================
-- Связующая таблица рецепт-ингредиент
-- ==========================
CREATE TABLE IF NOT EXISTS recipe_ingredients (
    recipe_id INT NOT NULL,
    ingredient_id INT NOT NULL,
    PRIMARY KEY (recipe_id, ingredient_id),
    FOREIGN KEY (recipe_id) REFERENCES recipes(id),
    FOREIGN KEY (ingredient_id) REFERENCES ingredients(id)
);

-- ==========================
-- Ингредиенты (20 шт)
-- ==========================
INSERT INTO ingredients (name, rarity, allergy, is_unlocked) VALUES
('Куриное филе','UNCOMMON',false,false),
('Говяжий фарш','UNCOMMON',false,false),
('Свинина','UNCOMMON',false,false),
('Лосось','RARE',true,false),
('Креветки','RARE',true,false),
('Яйца куриные','COMMON',true,true),
('Молоко','COMMON',true,true),
('Сливки','COMMON',true,true),
('Сметана','COMMON',true,true),
('Сыр Чеддер','RARE',true,false),
('Пармезан','RARE',true,false),
('Моцарелла','RARE',true,false),
('Творог','COMMON',true,true),
('Йогурт натуральный','UNCOMMON',true,false),
('Сливочное масло','COMMON',true,true),
('Картофель','COMMON',false,true),
('Морковь','COMMON',false,true),
('Репчатый лук','COMMON',false,true),
('Чеснок','UNCOMMON',false,false),
('Помидоры','COMMON',false,true),
('Огурцы','COMMON',false,true),
('Болгарский перец','COMMON',false,true),
('Брокколи','UNCOMMON',false,false),
('Цветная капуста','RARE',false,false),
('Шпинат','RARE',false,false),
('Салат айсберг','RARE',false,false),
('Руккола','RARE',false,false),
('Кабачки','UNCOMMON',false,false),
('Баклажаны','UNCOMMON',false,false),
('Шампиньоны','UNCOMMON',false,false),
('Спаржа','RARE',false,false),
('Зеленый горошек','UNCOMMON',false,false),
('Кукуруза','UNCOMMON',false,false),
('Рис белый','COMMON',false,true),
('Гречневая крупа','COMMON',false,true),
('Булгур','RARE',false,false),
('Киноа','RARE',false,false),
('Макаронные изделия','COMMON',false,true),
('Овсяные хлопья','UNCOMMON',false,false),
('Мука пшеничная','COMMON',false,true),
('Сахар','COMMON',false,true),
('Мед','RARE',false,false),
('Паприка','RARE',false,false),
('Орегано','RARE',false,false),
('Базилик свежий','MYTHIC',false,false),
('Укроп','UNCOMMON',false,false),
('Петрушка','UNCOMMON',false,false),
('Лавровый лист','UNCOMMON',false,false),
('Оливковое масло','COMMON',false,true),
('Подсолнечное масло','COMMON',false,true),
('Уксус столовый','COMMON',false,true),
('Уксус бальзамический','MYTHIC',false,false),
('Соевый соус','RARE',false,false),
('Томатная паста','UNCOMMON',false,false),
('Лимон','UNCOMMON',false,false),
('Яблоки','COMMON',false,true),
('Бананы','COMMON',false,true),
('Клубника','UNCOMMON',false,false),
('Авокадо','MYTHIC',false,false),
('Фасоль консервированная','UNCOMMON',false,false),
('Нут консервированный','RARE',false,false),
('Тунец консервированный','MYTHIC',true,false),
('Белое вино','LEGENDARY',true,false),
('Горчица','RARE',false,false),
('Майонез','COMMON',false,true),
('Кетчуп','COMMON',false,true),
('Каперсы','RARE',false,false),
('Анчоусы','MYTHIC',true,false),
('Водоросли нори','RARE',false,false),
('Миндаль','MYTHIC',true,false),
('Изюм','UNCOMMON',false,false),
('Черный шоколад','MYTHIC',true,false),
('Фуа-гра','RARE',true,false),
('Устрицы','LEGENDARY',true,false),
('Икра черная (осетровая)','LEGENDARY',true,false),
('Икра красная (лососевая)','MYTHIC',true,false),
('Краб камчатский','LEGENDARY',true,false),
('Мясо краба','MYTHIC',true,false),
('Морские гребешки','MYTHIC',true,false),
('Трюфели','LEGENDARY',false,false),
('Говядина мраморная','LEGENDARY',true,false),
('Перепела','MYTHIC',true,false),
('Утиная грудка','MYTHIC',true,false),
('Угорь','LEGENDARY',true,false),
('Голубой сыр с плесенью','RARE',true,false),
('Прошутто','RARE',true,false),
('Артишоки','RARE',false,false),
('Спаржа белая','RARE',false,false)
ON CONFLICT (name) DO NOTHING;

-- ==========================
-- Рецепты (10 шт)
-- ==========================
INSERT INTO recipes (name, difficulty, description) VALUES
('Куриное филе с овощами', 'EASY', 'Куриное филе, морковь, лук, чеснок, брокколи.'),
('Говяжий фарш с картофелем', 'EASY', 'Простое блюдо из говяжьего фарша, картофеля, лука и чеснока.'),
('Свинина с овощами', 'MEDIUM', 'Свинина, болгарский перец, кабачки, лук и чеснок.'),
('Лосось в сливочном соусе', 'MEDIUM', 'Лосось, сливки, лимон, укроп.'),
('Креветки с чесноком', 'MEDIUM', 'Креветки, чеснок, оливковое масло, лимон.'),
('Яичница с овощами', 'EASY', 'Яйца, помидоры, лук, зелень.'),
('Молочный коктейль', 'EASY', 'Молоко, йогурт натуральный, мед, банан.'),
('Сливочный суп-пюре', 'MEDIUM', 'Сливки, картофель, морковь, лук, чеснок.'),
('Сырная запеканка', 'MEDIUM', 'Сыр Чеддер, моцарелла, творог, яйцо.'),
('Пармезан с овощами', 'MEDIUM', 'Пармезан, брокколи, цветная капуста, шпинат.'),
('Творожный десерт с медом', 'EASY', 'Творог, мед, йогурт натуральный, ваниль.'),
('Салат Айсберг', 'EASY', 'Салат айсберг, огурцы, помидоры, оливковое масло.'),
('Руккола с пармезаном', 'MEDIUM', 'Руккола, пармезан, оливковое масло, лимон.'),
('Кабачки на гриле', 'EASY', 'Кабачки, оливковое масло, чеснок, петрушка.'),
('Баклажаны запеченные', 'MEDIUM', 'Баклажаны, томатная паста, чеснок, сыр.'),
('Шампиньоны с чесноком', 'EASY', 'Шампиньоны, чеснок, оливковое масло, петрушка.'),
('Спаржа с соусом', 'MEDIUM', 'Спаржа, сливочное масло, лимон, пармезан.'),
('Зеленый горошек с мятой', 'EASY', 'Зеленый горошек, масло, мята.'),
('Кукуруза с маслом', 'EASY', 'Кукуруза, сливочное масло, соль.'),
('Рис с овощами', 'EASY', 'Рис белый, морковь, лук, чеснок, болгарский перец.'),
('Гречневая каша', 'EASY', 'Гречневая крупа, масло, соль.'),
('Булгур с овощами', 'MEDIUM', 'Булгур, кабачки, брокколи, морковь.'),
('Киноа с овощами', 'MEDIUM', 'Киноа, болгарский перец, брокколи, морковь.'),
('Паста с томатным соусом', 'EASY', 'Макаронные изделия, томатная паста, базилик, чеснок.'),
('Овсяная каша с медом', 'EASY', 'Овсяные хлопья, мед, молоко, банан.'),
('Хлеб с маслом и сахаром', 'EASY', 'Мука пшеничная, сахар, масло.'),
('Медовые яблоки', 'EASY', 'Яблоки, мед, корица.'),
('Банановый десерт', 'EASY', 'Бананы, йогурт натуральный, мед.'),
('Клубничный смузи', 'EASY', 'Клубника, банан, молоко, йогурт.'),
('Авокадо с лимоном', 'MEDIUM', 'Авокадо, лимон, оливковое масло, соль.'),
('Фасоль с томатами', 'EASY', 'Фасоль консервированная, томатная паста, лук, чеснок.'),
('Нут с паприкой', 'MEDIUM', 'Нут консервированный, паприка, оливковое масло, чеснок.'),
('Тунец с овощами', 'MEDIUM', 'Тунец консервированный, брокколи, помидоры, лимон.'),
('Белое вино с травами', 'HARD', 'Белое вино, лавровый лист, орегано, петрушка.'),
('Горчица с медом', 'MEDIUM', 'Горчица, мед, лимон.'),
('Майонез с зеленью', 'EASY', 'Майонез, укроп, петрушка.'),
('Кетчуп с базиликом', 'EASY', 'Кетчуп, базилик свежий, оливковое масло.'),
('Каперсы с анчоусами', 'HARD', 'Каперсы, анчоусы, оливковое масло, лимон.'),
('Нори с рисом', 'MEDIUM', 'Водоросли нори, рис белый, огурцы, морковь.'),
('Миндальный десерт', 'MEDIUM', 'Миндаль, молоко, сахар, ваниль.'),
('Черный шоколад с медом', 'MEDIUM', 'Черный шоколад, мед, сливки.'),
('Фуа-гра с прошутто', 'HARD', 'Фуа-гра, прошутто, каперсы, оливковое масло.'),
('Устрицы с лимоном', 'HARD', 'Устрицы, лимон, белое вино.'),
('Икра черная на тосте', 'HARD', 'Икра черная, сливочное масло, хлеб.'),
('Икра красная с маслом', 'HARD', 'Икра красная, масло, хлеб.'),
('Краб камчатский с лимоном', 'HARD', 'Краб камчатский, лимон, оливковое масло.'),
('Мясо краба с майонезом', 'HARD', 'Мясо краба, майонез, лимон.'),
('Трюфели с соусом', 'HARD', 'Трюфели, сливочное масло, пармезан.'),
('Говядина мраморная с соусом', 'HARD', 'Говядина мраморная, чеснок, розмарин, оливковое масло.'),
('Перепела с утиными грудками', 'HARD', 'Перепела, утиная грудка, сливочное масло, специи.')
ON CONFLICT (name) DO NOTHING;

-- ==========================
-- Связи рецептов и ингредиентов
-- ==========================
INSERT INTO recipe_ingredients (recipe_id, ingredient_id) VALUES
-- Рецепт 1: Куриное филе с овощами
(1, 1),(1,16),(1,17),(1,18),(1,19),(1,20),(1,21),
-- Рецепт 2: Говяжий фарш с картофелем
(2,2),(2,16),(2,17),(2,18),(2,19),(2,22),
-- Рецепт 3: Свинина с овощами
(3,3),(3,22),(3,23),(3,24),(3,25),(3,26),
-- Рецепт 4: Лосось в сливочном соусе
(4,4),(4,8),(4,30),(4,36),(4,12),
-- Рецепт 5: Креветки с чесноком
(5,5),(5,17),(5,18),(5,19),(5,37),
-- Рецепт 6: Яичница с овощами
(6,6),(6,19),(6,18),(6,20),(6,27),
-- Рецепт 7: Молочный коктейль
(7,7),(7,56),(7,57),(7,42),
-- Рецепт 8: Сливочный суп-пюре
(8,8),(8,16),(8,17),(8,18),(8,19),(8,28),
-- Рецепт 9: Сырная запеканка
(9,11),(9,12),(9,13),(9,14),(9,29),
-- Рецепт 10: Пармезан с овощами
(10,12),(10,13),(10,15),(10,16),(10,30),
-- Рецепт 11: Творожный десерт с медом
(11,14),(11,31),(11,32),(11,33),
-- Рецепт 12: Салат Айсберг
(12,15),(12,19),(12,20),(12,34),
-- Рецепт 13: Руккола с пармезаном
(13,16),(13,12),(13,36),(13,37),
-- Рецепт 14: Кабачки на гриле
(14,17),(14,35),(14,18),(14,38),
-- Рецепт 15: Баклажаны запеченные
(15,18),(15,24),(15,25),(15,26),
-- Рецепт 16: Шампиньоны с чесноком
(16,19),(16,20),(16,21),(16,39),
-- Рецепт 17: Спаржа с соусом
(17,20),(17,8),(17,12),(17,40),
-- Рецепт 18: Зеленый горошек с мятой
(18,21),(18,36),(18,41),
-- Рецепт 19: Кукуруза с маслом
(19,22),(19,7),(19,42),
-- Рецепт 20: Рис с овощами
(20,23),(20,24),(20,25),(20,26),(20,43),
-- Рецепт 21: Гречневая каша
(21,24),(21,25),(21,7),(21,44),
-- Рецепт 22: Булгур с овощами
(22,26),(22,27),(22,28),(22,29),(22,30),
-- Рецепт 23: Киноа с овощами
(23,27),(23,28),(23,29),(23,30),(23,31),
-- Рецепт 24: Паста с томатным соусом
(24,32),(24,33),(24,34),(24,35),
-- Рецепт 25: Овсяная каша с медом
(25,35),(25,36),(25,37),(25,38),
-- Рецепт 26: Хлеб с маслом и сахаром
(26,36),(26,37),(26,38),(26,39),
-- Рецепт 27: Медовые яблоки
(27,40),(27,41),(27,42),
-- Рецепт 28: Банановый десерт
(28,43),(28,44),(28,45),
-- Рецепт 29: Клубничный смузи
(29,46),(29,47),(29,48),
-- Рецепт 30: Авокадо с лимоном
(30,49),(30,50),(30,51),
-- Рецепт 31: Фасоль с томатами
(31,52),(31,53),(31,54),
-- Рецепт 32: Нут с паприкой
(32,55),(32,56),(32,57),
-- Рецепт 33: Тунец с овощами
(33,58),(33,59),(33,60),
-- Рецепт 34: Белое вино с травами
(34,61),(34,62),(34,63),
-- Рецепт 35: Горчица с медом
(35,64),(35,65),(35,66),
-- Рецепт 36: Майонез с зеленью
(36,67),(36,68),(36,69),
-- Рецепт 37: Кетчуп с базиликом
(37,70),(37,71),(37,72),
-- Рецепт 38: Каперсы с анчоусами
(38,73),(38,74),(38,75),
-- Рецепт 39: Нори с рисом
(39,76),(39,77),(39,78),
-- Рецепт 40: Миндальный десерт
(40,79),(40,80),(40,81),
-- Рецепт 41: Трюфели с соусом
(41,80),(41,53),(41,49),
-- Рецепт 42: Говядина мраморная с овощами
(42,81),(42,16),(42,17),(42,18),
-- Рецепт 43: Перепела с овощами
(43,82),(43,16),(43,17),
-- Рецепт 44: Утиная грудка с рисом
(44,83),(44,34),(44,49),
-- Рецепт 45: Угорь с соусом
(45,84),(45,53),(45,49),
-- Рецепт 46: Голубой сыр с плесенью с овощами
(46,85),(46,16),(46,17),
-- Рецепт 47: Прошутто с артишоками
(47,86),(47,87),(47,20),
-- Рецепт 48: Спаржа белая с маслом
(48,88),(48,15),(48,49)
ON CONFLICT (recipe_id, ingredient_id) DO NOTHING;
